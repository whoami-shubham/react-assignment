(this["webpackJsonpreact-assignment"]=this["webpackJsonpreact-assignment"]||[]).push([[0],{152:function(e,t,a){},153:function(e,t,a){},155:function(e,t,a){},226:function(e,t,a){},227:function(e,t,a){},236:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a(26),s=a.n(r),c=(a(152),a(139)),i=a(23),u=(a(153),a(39)),l=a.n(u),o=a(55),j=a(53),b=a(51),d=a(246),m=a(240),f=a(42),O=a(61),h=a(247),p=a(248),x=a(249),v=a(250),g=a(251),k=a(252),N=a(253),w=(a(154),a(155),"https://jsonplaceholder.typicode.com/users"),y=function(e){return"https://avatars.dicebear.com/v2/avataaars/".concat(e,".svg?options[mood][]=happy")},C=a(7),S=m.a.Meta;function I(e){var t=e.user,a=e.openModal,n=e.setCurUser,r=e.deleteUser,s=e.likeUser,c=t.name,i=t.username,u=t.email,l=t.phone,o=t.website,j=t.isLiked,b=function(){s(t)};return Object(C.jsx)(f.a,{xs:20,sm:20,md:10,lg:8,xl:6,children:Object(C.jsxs)(m.a,{className:"user-card",cover:Object(C.jsx)("img",{alt:"avatar",src:y(i),className:"card-image"}),actions:[Object(C.jsx)(O.a,{size:"small",onClick:b,children:j?Object(C.jsx)(h.a,{className:"heart-icon"}):Object(C.jsx)(p.a,{className:"heart-icon",onClick:b})}),Object(C.jsx)(O.a,{size:"small",onClick:function(){n(t),a()},children:Object(C.jsx)(x.a,{},"edit")}),Object(C.jsx)(O.a,{size:"small",onClick:function(){r(t)},children:Object(C.jsx)(v.a,{},"delete")})],children:[Object(C.jsx)(S,{title:c,className:"meta"}),Object(C.jsxs)("div",{className:"col",children:[Object(C.jsxs)("div",{className:"row card-item",children:[Object(C.jsx)(g.a,{})," ",Object(C.jsx)("span",{className:"card-item-text",children:u})]}),Object(C.jsxs)("div",{className:"row card-item",children:[Object(C.jsx)(k.a,{})," ",Object(C.jsx)("span",{className:"card-item-text",children:l})]}),Object(C.jsxs)("div",{className:"row card-item",children:[Object(C.jsx)(N.a,{})," ",Object(C.jsx)("span",{className:"card-item-text",children:o})]})]})]})})}function L(){return q.apply(this,arguments)}function q(){return(q=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,e.next=4,fetch(w);case 4:return a=e.sent,e.next=7,a.json();case 7:(t=e.sent).forEach((function(e){e.isLiked=!1})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log(e.t0);case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}var U={users:[]},E=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a,n,r,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t=localStorage.getItem("data"),n=(a=null===t||void 0===t)?null:JSON.parse(t),!a&&n&&n.users&&n.users.length){e.next=11;break}return e.next=7,L();case 7:return r=e.sent,M(s={users:r}),e.abrupt("return",s);case 11:return e.abrupt("return",n);case 14:return e.prev=14,e.t0=e.catch(0),console.log("error : ",e.t0),e.abrupt("return",U);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();function M(e){try{var t=JSON.stringify(e);localStorage.setItem("data",t)}catch(a){console.log(a)}}function T(e){return e?JSON.parse(JSON.stringify(e)):e}var F=a(244),J=a(242),z=a(243);function D(e){var t=e.user,a=e.isModalVisible,r=e.handleCancel,s=e.updateUserDetails,c=Object(n.useState)(null),i=Object(b.a)(c,2),u=i[0],l=i[1];if(!t)return null;var o=t.name,d=t.email,m=t.phone,f=t.website;return Object(C.jsx)(F.a,{title:"Basic Modal",visible:a,onOk:function(){u&&s(Object(j.a)(Object(j.a)({},t),u)),r()},onCancel:r,children:Object(n.createElement)(J.a,Object(j.a)(Object(j.a)({},{labelCol:{span:8},wrapperCol:{span:16}}),{},{name:"basic",key:a,onFinish:function(){},initialValues:{name:o,email:d,phone:m,website:f},onFieldsChange:function(e,t){var a={};t.forEach((function(e){a["".concat(e.name[0])]=e.value})),l(a)}}),Object(C.jsx)(J.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"This field is required"}],children:Object(C.jsx)(z.a,{})}),Object(C.jsx)(J.a.Item,{label:"Email",name:"email",rules:[{required:!0,message:"This field is required"}],children:Object(C.jsx)(z.a,{})}),Object(C.jsx)(J.a.Item,{label:"Phone",name:"phone",rules:[{required:!0,message:"This field is required"}],children:Object(C.jsx)(z.a,{})}),Object(C.jsx)(J.a.Item,{label:"Website",name:"website",rules:[{required:!0,message:"This field is required"}],children:Object(C.jsx)(z.a,{})}))})}a(226);var B=function(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],s=Object(n.useState)(null),c=Object(b.a)(s,2),i=c[0],u=c[1],m=Object(n.useState)(!1),f=Object(b.a)(m,2),O=f[0],h=f[1],p=Object(n.useState)(!1),x=Object(b.a)(p,2),v=x[0],g=x[1],k=function(e){r(e),M({users:e})},N=function(e){if(e&&e.username){var t=T(a);for(var n in t)if(t[n].username===e.username){t[n]=Object(j.a)(Object(j.a)({},t[n]),{},{isLiked:!t[n].isLiked});break}k(t)}},w=function(e){if(e&&e.username){var t=a.filter((function(t){return t.username!==e.username}));k(t)}},y=function(){var e=Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,E();case 3:t=e.sent,r(t.users),g(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){y()}),[]),Object(C.jsx)("div",{className:"App",children:v?Object(C.jsx)(d.a,{message:"Loading...",type:"info"}):Object(C.jsxs)("div",{className:"users-list",children:[a&&a.length?a.map((function(e){return Object(C.jsx)(I,{user:e,openModal:function(){return h(!0)},setCurUser:u,deleteUser:w,likeUser:N},e.username)})):Object(C.jsx)(d.a,{message:"No Data is present refesh page to fetch data",type:"info"}),Object(C.jsx)(D,{user:i,isModalVisible:O,handleCancel:function(){return h(!1)},updateUserDetails:function(e){if(e&&e.username){var t=T(a);for(var n in t)if(t[n].username===e.username){t[n]=Object(j.a)({},e);break}k(t)}}},i&&i.username)]})})},P=a(239),V=a(241),A=a(245);a(227);function W(){var e=Object(n.useState)([]),t=Object(b.a)(e,2),a=t[0],r=t[1],s=function(){var e=Object(o.a)(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E();case 2:t=e.sent,a=(a=t.users).filter((function(e){return e.isLiked})),r(a);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){s()}),[]),Object(C.jsxs)("div",{className:"liked-users-list",children:[Object(C.jsxs)(P.a,{orientation:"left",children:["Total liked users : ",a.length]}),Object(C.jsx)(V.b,{bordered:!0,itemLayout:"horizontal",dataSource:a,renderItem:function(e){return Object(C.jsx)(V.b.Item,{children:Object(C.jsx)(V.b.Item.Meta,{avatar:Object(C.jsx)(A.a,{src:y(e.username)}),title:Object(C.jsx)("p",{children:e.name})})})}})]})}var G=function(){return Object(C.jsx)(c.a,{children:Object(C.jsxs)(i.c,{children:[Object(C.jsx)(i.a,{exact:!0,path:"/",component:B}),Object(C.jsx)(i.a,{path:"/likes",component:W})]})})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,254)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),s(e),c(e)}))};s.a.render(Object(C.jsx)(G,{}),document.getElementById("root")),H()}},[[236,1,2]]]);
//# sourceMappingURL=main.392a540b.chunk.js.map